adapters = [int(a) for a in input().lines()];
adapters = [0] + adapters.sort() + [adapters[-1] + 3];

diffs = [adapters[i] - adapters[i-1] for i in 1..adapters.len()];
counter = counter(diffs);
part1 = counter[1] * counter[3];

graph = map([
  (a, [a + diff for diff in 1..=3 if a + diff in adapters])
  for a in adapters
]);

memoized fn dfs(node) {
  return 1 if node == adapters[-1];
  sum([dfs(neighbor) for neighbor in graph[node]])
};

part2 = dfs(0);

print("Part 1:", part1);
print("Part 2:", part2);
